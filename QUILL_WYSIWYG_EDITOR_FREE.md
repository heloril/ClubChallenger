# âœ… Ã‰diteur WYSIWYG avec Quill (100% Gratuit)

## ğŸ“‹ Vue d'ensemble

L'onglet **Challenge Mailing** utilise maintenant **Quill**, un Ã©diteur WYSIWYG **complÃ¨tement gratuit et open source**, sans besoin de clÃ© API ou d'inscription.

### ğŸ¯ Pourquoi Quill ?

- âœ… **100% Gratuit** - Aucune clÃ© API requise, pas de limite
- âœ… **Open Source** - Code source disponible sur GitHub
- âœ… **Moderne** - UtilisÃ© par des milliers d'applications
- âœ… **LÃ©ger** - Plus petit et plus rapide que TinyMCE
- âœ… **Sans dÃ©pendances** - Fonctionne hors connexion (une fois chargÃ©)

---

## ğŸš€ Guide d'utilisation

### 1ï¸âƒ£ GÃ©nÃ©rer le template

1. SÃ©lectionnez un **challenge**
2. Cliquez sur **"Generate Email Template"**
3. Cliquez sur **"ğŸ”„ Load Template"**

### 2ï¸âƒ£ Ã‰diter avec Quill

L'Ã©diteur ressemble Ã  ceci :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [B] [I] [U] [Color â–¼] [Background â–¼] [Header â–¼]       â”‚
â”‚ [â€¢] [1.] [Align â–¼] [Link] [Clean]                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸƒ Challenge 2025                                      â”‚
â”‚                                                         â”‚
â”‚  Mise Ã  jour du Challenge - 09 fÃ©vrier 2025           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
â”‚                                                         â”‚
â”‚  ğŸ“… Prochaine Course                                    â”‚
â”‚  Run in LiÃ¨ge - 15/02/2025                            â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ“ Barre d'outils Quill

| Bouton | Fonction | Raccourci |
|--------|----------|-----------|
| **B** | Gras | Ctrl+B |
| **I** | Italique | Ctrl+I |
| **U** | SoulignÃ© | Ctrl+U |
| **Color** | Couleur du texte | - |
| **Background** | Couleur de fond | - |
| **Header** | Titres (H1, H2, H3) | - |
| **â€¢** | Liste Ã  puces | - |
| **1.** | Liste numÃ©rotÃ©e | - |
| **Align** | Alignement | - |
| **Link** | InsÃ©rer un lien | Ctrl+K |
| **Clean** | Supprimer le formatage | - |

### 3ï¸âƒ£ InsÃ©rer un tableau

**Bouton spÃ©cial : "ğŸ“Š Insert Table"**

1. Placez le curseur oÃ¹ vous voulez le tableau
2. Cliquez sur **"ğŸ“Š Insert Table"**
3. Un tableau 4Ã—4 est insÃ©rÃ© automatiquement
4. Vous pouvez Ã©diter les cellules directement

**Tableau par dÃ©faut:**
- 4 lignes Ã— 4 colonnes
- En-tÃªte orange
- Lignes alternÃ©es grises/blanches
- Bordures visibles

### 4ï¸âƒ£ Sauvegarder

**Sauvegarde automatique:**
- Quand vous tapez ou modifiez
- Le HTML est automatiquement mis Ã  jour dans le ViewModel

**Sauvegarde manuelle:**
- Cliquez sur **"ğŸ’¾ Get HTML"**

---

## ğŸ’¡ Exemples d'Ã©dition

### Exemple 1 : Changer la couleur d'un titre

1. SÃ©lectionnez le titre "Challenge 2025"
2. Cliquez sur le bouton **"Color"**
3. Choisissez une couleur (ex: bleu)

### Exemple 2 : Ajouter du texte en gras

1. Tapez votre texte
2. SÃ©lectionnez-le
3. Cliquez sur **[B]** ou appuyez sur **Ctrl+B**

### Exemple 3 : CrÃ©er une liste

1. Tapez votre premier Ã©lÃ©ment
2. Cliquez sur **[â€¢]** (liste Ã  puces)
3. Appuyez sur **EntrÃ©e** pour ajouter des Ã©lÃ©ments
4. Appuyez sur **EntrÃ©e** deux fois pour sortir de la liste

### Exemple 4 : InsÃ©rer un lien

1. SÃ©lectionnez le texte
2. Cliquez sur l'icÃ´ne **Link** ou appuyez sur **Ctrl+K**
3. Entrez l'URL
4. Cliquez sur **OK**

### Exemple 5 : Ã‰diter un tableau

**AprÃ¨s avoir insÃ©rÃ© un tableau:**

1. Cliquez dans une cellule
2. Tapez ou modifiez le texte
3. Utilisez **Tab** pour passer Ã  la cellule suivante
4. Utilisez **Shift+Tab** pour revenir en arriÃ¨re

**Pour modifier les cellules:**
- Double-cliquez pour Ã©diter
- SÃ©lectionnez et utilisez les boutons de formatage (gras, couleur, etc.)

---

## ğŸ¨ FonctionnalitÃ©s Quill

### âœ… Formatage de texte
- **Gras, Italique, SoulignÃ©**
- **Couleur de texte** (16 couleurs prÃ©dÃ©finies)
- **Couleur de fond** (16 couleurs prÃ©dÃ©finies)
- **Supprimer le formatage** (bouton Clean)

### âœ… Structure
- **Titres** (H1, H2, H3, Normal)
- **Listes Ã  puces**
- **Listes numÃ©rotÃ©es**
- **Alignement** (Gauche, Centre, Droite, JustifiÃ©)

### âœ… Ã‰lÃ©ments
- **Liens hypertexte**
- **Tableaux** (via bouton personnalisÃ©)
- **Texte enrichi HTML**

### âœ… Ã‰dition
- **Annuler/Refaire** (Ctrl+Z / Ctrl+Y)
- **Copier-coller** depuis Word/Excel
- **SÃ©lection de texte** intuitive

---

## ğŸ”§ Architecture technique

### Composants

1. **Quill 1.3.7** (CDN)
   - Licence MIT (100% gratuit)
   - ~43 KB minifiÃ©
   - Aucune dÃ©pendance

2. **WebView2** (Microsoft Edge)
   - Rendu HTML5/CSS3
   - Communication C# â†” JavaScript

3. **Communication**
   - JavaScript â†’ C# : `WebMessageReceived`
   - C# â†’ JavaScript : `ExecuteScriptAsync()`

### Flux de donnÃ©es

```
1. User clicks "Generate Template"
   â†“
2. C# gÃ©nÃ¨re le HTML
   â†“
3. User clicks "Load Template"
   â†“
4. C# envoie HTML Ã  Quill (setContent)
   â†“
5. User Ã©dite dans Quill
   â†“
6. Quill envoie HTML Ã  C# (contentChanged)
   â†“
7. C# met Ã  jour le ViewModel
   â†“
8. Email prÃªt !
```

---

## ğŸ“¦ PrÃ©requis

### Edge WebView2 Runtime

âœ… GÃ©nÃ©ralement dÃ©jÃ  installÃ© sur Windows 10/11  
âœ… TÃ©lÃ©chargement : https://developer.microsoft.com/microsoft-edge/webview2/  
âœ… Taille : ~150 MB

### Connexion Internet

âš ï¸ **PremiÃ¨re utilisation uniquement**
- Quill est chargÃ© depuis le CDN
- Une fois chargÃ©, il est mis en cache
- Fonctionne ensuite hors connexion

ğŸ’¡ **Alternative**: TÃ©lÃ©charger Quill localement (voir section ci-dessous)

---

## ğŸŒ Version locale (sans Internet)

### Pour utiliser Quill sans connexion Internet :

1. **TÃ©lÃ©charger Quill**
   ```
   https://github.com/quilljs/quill/releases
   TÃ©lÃ©charger quill.min.js et quill.snow.css
   ```

2. **Placer dans le projet**
   ```
   NameParser.UI\Resources\quill\
   â”œâ”€â”€ quill.min.js
   â””â”€â”€ quill.snow.css
   ```

3. **Modifier QuillEditor.html**
   ```html
   <!-- Au lieu de CDN -->
   <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet">
   <script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>
   
   <!-- Utiliser les fichiers locaux -->
   <link href="quill/quill.snow.css" rel="stylesheet">
   <script src="quill/quill.min.js"></script>
   ```

4. **Mettre Ã  jour le .csproj**
   ```xml
   <None Update="Resources\quill\**\*">
     <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
   </None>
   ```

---

## âœ… Avantages par rapport Ã  TinyMCE

| CritÃ¨re | Quill | TinyMCE |
|---------|-------|---------|
| **Licence** | âœ… MIT (100% gratuit) | âš ï¸ ClÃ© API requise |
| **Taille** | âœ… 43 KB | âŒ 500+ KB |
| **DÃ©pendances** | âœ… Aucune | âš ï¸ Plusieurs |
| **ComplexitÃ©** | âœ… Simple | âš ï¸ Complexe |
| **Performance** | âœ… Rapide | âš ï¸ Plus lent |
| **Open Source** | âœ… GitHub | âš ï¸ LimitÃ© |
| **Hors ligne** | âœ… Facile | âš ï¸ Difficile |

---

## ğŸ› DÃ©pannage

### ProblÃ¨me : L'Ã©diteur ne se charge pas

**Solutions:**
1. VÃ©rifiez votre connexion Internet (premiÃ¨re utilisation)
2. VÃ©rifiez que WebView2 Runtime est installÃ©
3. Consultez le message d'erreur
4. TÃ©lÃ©chargez Quill localement

### ProblÃ¨me : Le template ne se charge pas

**Solutions:**
1. Cliquez sur "Generate Email Template"
2. Attendez la gÃ©nÃ©ration
3. Cliquez sur "ğŸ”„ Load Template"
4. VÃ©rifiez que l'Ã©diteur est prÃªt

### ProblÃ¨me : Les tableaux ne s'affichent pas bien

**Solutions:**
1. Utilisez le bouton "ğŸ“Š Insert Table"
2. Ã‰vitez de copier-coller des tableaux complexes depuis Word
3. Ã‰ditez les cellules manuellement

### ProblÃ¨me : Le formatage est perdu

**Solutions:**
1. Utilisez les boutons de la barre d'outils Quill
2. Ã‰vitez de coller du HTML complexe
3. Utilisez "Clean" pour rÃ©initialiser le formatage

---

## ğŸš€ Limitations de Quill

### Ce que Quill ne fait PAS

âŒ **Fusion de cellules dans les tableaux** - Non supportÃ© nativement  
âŒ **Images inline** - SupportÃ© mais pas recommandÃ© pour les emails  
âŒ **VÃ©rification orthographique** - Utilisez celle du navigateur (F7)  
âŒ **Insertion de vidÃ©os** - Non supportÃ©  
âŒ **Tableaux avancÃ©s** - Pas d'Ã©diteur de tableau intÃ©grÃ©

### Solutions de contournement

âœ… **Tableaux**: Utilisez le bouton "Insert Table" qui gÃ©nÃ¨re du HTML compatible email  
âœ… **Images**: Utilisez des URLs d'images hÃ©bergÃ©es  
âœ… **Orthographe**: Le navigateur Edge intÃ¨gre un correcteur orthographique  

---

## ğŸ“š Ressources

- **Site officiel Quill**: https://quilljs.com/
- **Documentation**: https://quilljs.com/docs/
- **GitHub**: https://github.com/quilljs/quill
- **Playground**: https://quilljs.com/playground/

---

## âœ… RÃ©sumÃ©

### Pour l'utilisateur

âœ… Interface intuitive type Word  
âœ… Aucune connaissance HTML requise  
âœ… Ã‰dition WYSIWYG en temps rÃ©el  
âœ… Sauvegarde automatique  
âœ… Insertion de tableaux facilitÃ©e  

### Pour l'administrateur

âœ… 100% gratuit et open source  
âœ… Aucune clÃ© API ou inscription  
âœ… LÃ©ger et performant  
âœ… HTML propre et compatible email  
âœ… Facile Ã  maintenir  

---

**Date**: 2025-02-09  
**Version**: 4.0 - Quill Editor (100% Free)  
**Build**: âœ… RÃ©ussi  
**Licence**: MIT (Open Source)  
**PrÃ©requis**: Edge WebView2 Runtime + Internet (premiÃ¨re utilisation)
