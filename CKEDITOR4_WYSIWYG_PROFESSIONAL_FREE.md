# âœ… CKEditor 4 - Ã‰diteur WYSIWYG Professionnel (100% Gratuit)

## ğŸ“‹ Vue d'ensemble

L'onglet **Challenge Mailing** utilise maintenant **CKEditor 4**, l'Ã©diteur WYSIWYG **le plus utilisÃ© au monde**, complÃ¨tement gratuit et open source.

### ğŸ¯ Pourquoi CKEditor 4 ?

- âœ… **100% Gratuit** - Version open source sans limitation
- âœ… **Mature et Stable** - UtilisÃ© depuis 2003 par des millions de sites
- âœ… **Support complet des tableaux** - Ã‰diteur de tableau intÃ©grÃ©
- âœ… **Copier-coller depuis Word** - Nettoie automatiquement le HTML
- âœ… **Compatible email** - HTML optimisÃ© pour les clients email
- âœ… **Interface intuitive** - Comme Microsoft Word
- âœ… **Mode Source** - AccÃ¨s direct au HTML si nÃ©cessaire

---

## ğŸš€ Guide d'utilisation

### 1ï¸âƒ£ GÃ©nÃ©rer le template

1. SÃ©lectionnez un **challenge**
2. Cliquez sur **"Generate Email Template"**
3. Cliquez sur **"ğŸ”„ Load Template"**

### 2ï¸âƒ£ L'Ã©diteur CKEditor

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœï¸ Email Editor (WYSIWYG - CKEditor 4)                    â”‚
â”‚ [ğŸ”„ Load] [ğŸ’¾ Get HTML] [ğŸ“Š Insert Table]                 â”‚
â”‚ â„¹ï¸ Professional WYSIWYG Editor - 100% Free               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“§ CKEditor ready - Edit your email                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Source] [Preview] â”‚ [Cut] [Copy] [Paste] [Undo] [Redo]  â”‚
â”‚ [Bold] [Italic] [Underline] [Strike] [Lists] [Indent]    â”‚
â”‚ [Styles] [Format] [Font] [Size] [Colors] [Align] [Table] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  ğŸƒ Challenge 2025                                         â”‚
â”‚  [Contenu Ã©ditable avec toutes les fonctionnalitÃ©s]      â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ Barre d'outils CKEditor

### RangÃ©e 1 : Document & Ã‰dition

| Bouton | Fonction |
|--------|----------|
| **Source** | Mode HTML source (voir le code) |
| **Preview** | PrÃ©visualiser le rendu final |
| **Cut** | Couper |
| **Copy** | Copier |
| **Paste** | Coller |
| **Paste Text** | Coller sans formatage |
| **Paste from Word** | Coller depuis Word (nettoie le HTML) |
| **Undo** | Annuler |
| **Redo** | Refaire |

### RangÃ©e 2 : Formatage de texte

| Bouton | Fonction | Raccourci |
|--------|----------|-----------|
| **Bold** | Gras | Ctrl+B |
| **Italic** | Italique | Ctrl+I |
| **Underline** | SoulignÃ© | Ctrl+U |
| **Strike** | BarrÃ© | - |
| **Subscript** | Indice | - |
| **Superscript** | Exposant | - |
| **Remove Format** | Supprimer le formatage | - |

### RangÃ©e 3 : Paragraphes & Listes

| Bouton | Fonction |
|--------|----------|
| **Numbered List** | Liste numÃ©rotÃ©e |
| **Bulleted List** | Liste Ã  puces |
| **Outdent** | RÃ©duire l'indentation |
| **Indent** | Augmenter l'indentation |
| **Blockquote** | Citation |

### RangÃ©e 4 : Liens & Insertion

| Bouton | Fonction |
|--------|----------|
| **Link** | InsÃ©rer un lien hypertexte |
| **Unlink** | Supprimer un lien |
| **Image** | InsÃ©rer une image |
| **Table** | InsÃ©rer/Ã©diter un tableau â­ |
| **Horizontal Rule** | Ligne horizontale |
| **Special Char** | CaractÃ¨res spÃ©ciaux |

### RangÃ©e 5 : Styles & Couleurs

| Bouton | Fonction |
|--------|----------|
| **Styles** | Styles prÃ©dÃ©finis |
| **Format** | Format de paragraphe (Normal, H1, H2, etc.) |
| **Font** | Police de caractÃ¨res |
| **Font Size** | Taille de police |
| **Text Color** | Couleur du texte |
| **Background Color** | Couleur de fond |

### RangÃ©e 6 : Alignement & Outils

| Bouton | Fonction |
|--------|----------|
| **Align Left** | Aligner Ã  gauche |
| **Align Center** | Centrer |
| **Align Right** | Aligner Ã  droite |
| **Justify** | Justifier |
| **Maximize** | Plein Ã©cran |
| **Show Blocks** | Afficher les blocs HTML |

---

## ğŸ“Š Ã‰dition de tableaux (FonctionnalitÃ© Star â­)

### InsÃ©rer un tableau

**Option 1: Bouton personnalisÃ©**
- Cliquez sur **"ğŸ“Š Insert Table"**
- Un tableau 4Ã—4 est insÃ©rÃ© automatiquement

**Option 2: Menu CKEditor**
1. Cliquez sur l'icÃ´ne **Table** dans la barre d'outils
2. Choisissez "Insert Table"
3. SÃ©lectionnez le nombre de lignes et colonnes
4. Cliquez sur OK

### Ã‰diter un tableau

#### Ajouter une ligne
1. Clic droit dans une cellule
2. **Table Row** â†’ **Insert Row After/Before**

#### Ajouter une colonne
1. Clic droit dans une cellule
2. **Table Column** â†’ **Insert Column After/Before**

#### Supprimer une ligne/colonne
1. Clic droit dans la ligne/colonne
2. **Table Row** â†’ **Delete Row**
3. Ou **Table Column** â†’ **Delete Column**

#### Fusionner des cellules
1. SÃ©lectionnez plusieurs cellules
2. Clic droit â†’ **Cell** â†’ **Merge Cells**

#### Diviser une cellule
1. Clic droit dans la cellule
2. **Cell** â†’ **Split Cell Horizontally/Vertically**

#### PropriÃ©tÃ©s du tableau
1. Clic droit dans le tableau
2. **Table Properties**
3. Modifiez :
   - Largeur et hauteur
   - Bordures
   - Couleurs
   - Alignement
   - Espacement

---

## ğŸ’¡ Exemples d'utilisation

### Exemple 1 : Modifier le texte

1. **SÃ©lectionnez** le texte
2. Utilisez les boutons de la barre d'outils :
   - [B] pour gras
   - [I] pour italique
   - [Colors] pour changer la couleur

### Exemple 2 : Ajouter un titre

1. Placez le curseur au dÃ©but d'une ligne
2. Cliquez sur **Format** dans la barre d'outils
3. Choisissez **Heading 1** (H1) ou **Heading 2** (H2)

### Exemple 3 : CrÃ©er une liste

1. Tapez votre premier Ã©lÃ©ment
2. Cliquez sur l'icÃ´ne **Bulleted List** (â€¢) ou **Numbered List** (1.)
3. Appuyez sur **EntrÃ©e** pour ajouter un nouvel Ã©lÃ©ment
4. Appuyez sur **EntrÃ©e** deux fois pour terminer la liste

### Exemple 4 : InsÃ©rer un lien

1. SÃ©lectionnez le texte
2. Cliquez sur l'icÃ´ne **Link** (ğŸ”—)
3. Dans la fenÃªtre qui s'ouvre :
   - **URL** : Entrez l'URL (ex: https://example.com)
   - **Display Text** : Le texte Ã  afficher
4. Cliquez sur **OK**

### Exemple 5 : Copier-coller depuis Word

1. Dans Word, sÃ©lectionnez et **copiez** (Ctrl+C)
2. Dans CKEditor, cliquez sur **Paste from Word** dans la barre d'outils
3. Collez (Ctrl+V) dans la fenÃªtre qui s'ouvre
4. Cliquez sur **OK**

CKEditor nettoie automatiquement le HTML de Word !

### Exemple 6 : Mode Source (pour les experts)

1. Cliquez sur **Source** dans la barre d'outils
2. Ã‰ditez le HTML directement
3. Cliquez Ã  nouveau sur **Source** pour revenir au mode WYSIWYG

---

## ğŸ¨ FonctionnalitÃ©s avancÃ©es

### 1. Styles prÃ©dÃ©finis

CKEditor inclut des styles prÃ©dÃ©finis :
- **Normal** : Texte standard
- **Heading 1-6** : Titres de diffÃ©rentes tailles
- **Formatted** : Texte prÃ©formatÃ© (code)
- **Address** : Adresse

### 2. CaractÃ¨res spÃ©ciaux

Cliquez sur **Special Char** pour insÃ©rer :
- Symboles mathÃ©matiques (Â©, Â®, â„¢)
- Devises (â‚¬, $, Â£)
- FlÃ¨ches (â†, â†’, â†‘, â†“)
- Et bien plus !

### 3. Plein Ã©cran

Cliquez sur **Maximize** pour Ã©diter en plein Ã©cran. Appuyez sur **Esc** pour sortir.

### 4. Rechercher et remplacer

1. **Ctrl+F** : Rechercher dans le texte
2. **Ctrl+H** : Rechercher et remplacer

---

## ğŸ”§ Architecture technique

### Composants

1. **CKEditor 4.22.1** (CDN)
   - Licence GPL/LGPL/MPL (100% gratuit)
   - Version "Standard All" (toutes les fonctionnalitÃ©s)
   - ~450 KB (minifiÃ© et compressÃ©)

2. **WebView2** (Microsoft Edge)
   - Rendu HTML5/CSS3
   - Communication C# â†” JavaScript

3. **Configuration**
   - Toolbar personnalisÃ©e pour Ã©dition d'emails
   - Support complet des tableaux
   - AllowedContent = true (accepte tout HTML)
   - Auto-save aprÃ¨s 1 seconde d'inactivitÃ©

### Flux de donnÃ©es

```
1. User clicks "Generate Template"
   â†“
2. C# gÃ©nÃ¨re le HTML
   â†“
3. User clicks "Load Template"
   â†“
4. C# envoie HTML Ã  CKEditor (setContent)
   â†“
5. User Ã©dite dans CKEditor
   â†“
6. CKEditor envoie HTML Ã  C# automatiquement (change event)
   â†“
7. C# met Ã  jour le ViewModel
   â†“
8. Email prÃªt !
```

---

## âœ… Avantages de CKEditor 4

### ğŸ¯ Pour l'utilisateur

âœ… **Interface familiÃ¨re** - Ressemble Ã  Microsoft Word  
âœ… **Tous les outils** - Formatage complet  
âœ… **Ã‰diteur de tableaux** - Ajout/suppression/fusion de cellules  
âœ… **Copier-coller Word** - Nettoyage automatique du HTML  
âœ… **Mode Source** - AccÃ¨s au HTML si nÃ©cessaire  
âœ… **PrÃ©visualisation** - Voir le rÃ©sultat avant envoi  

### ğŸ”§ Pour l'administrateur

âœ… **Mature et stable** - 20+ ans de dÃ©veloppement  
âœ… **Compatible email** - HTML propre pour clients email  
âœ… **Personnalisable** - Toolbar configurable  
âœ… **Documentation complÃ¨te** - Des milliers de tutoriels en ligne  
âœ… **CommunautÃ© active** - Support et plugins  

---

## ğŸ“¦ PrÃ©requis

### Edge WebView2 Runtime

âœ… GÃ©nÃ©ralement dÃ©jÃ  installÃ© sur Windows 10/11  
âœ… TÃ©lÃ©chargement : https://developer.microsoft.com/microsoft-edge/webview2/  
âœ… Taille : ~150 MB

### Connexion Internet

âš ï¸ **PremiÃ¨re utilisation uniquement**
- CKEditor est chargÃ© depuis le CDN
- Une fois chargÃ©, il est mis en cache
- Fonctionne ensuite hors connexion

ğŸ’¡ **Alternative**: TÃ©lÃ©charger CKEditor localement (voir section ci-dessous)

---

## ğŸŒ Version locale (sans Internet)

### Pour utiliser CKEditor sans connexion Internet :

1. **TÃ©lÃ©charger CKEditor**
   ```
   https://ckeditor.com/ckeditor-4/download/
   Choisir "Standard Package" (gratuit)
   ```

2. **Placer dans le projet**
   ```
   NameParser.UI\Resources\ckeditor\
   â””â”€â”€ ckeditor.js (et tous les autres fichiers)
   ```

3. **Modifier CKEditor.html**
   ```html
   <!-- Au lieu de CDN -->
   <script src="https://cdn.ckeditor.com/4.22.1/standard-all/ckeditor.js"></script>
   
   <!-- Utiliser le fichier local -->
   <script src="ckeditor/ckeditor.js"></script>
   ```

4. **Mettre Ã  jour le .csproj**
   ```xml
   <None Update="Resources\ckeditor\**\*">
     <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
   </None>
   ```

---

## ğŸ†š Comparaison des Ã©diteurs

| CritÃ¨re | CKEditor 4 | Quill | TinyMCE |
|---------|-----------|-------|---------|
| **Licence** | âœ… GPL (gratuit) | âœ… MIT (gratuit) | âš ï¸ ClÃ© API |
| **Tableaux** | âœ… Ã‰diteur complet | âŒ Basique | âœ… Complet |
| **Copier Word** | âœ… Excellent | âš ï¸ LimitÃ© | âœ… Excellent |
| **Taille** | âš ï¸ 450 KB | âœ… 43 KB | âš ï¸ 500+ KB |
| **MaturitÃ©** | âœ… 20+ ans | âš ï¸ 6 ans | âœ… 15+ ans |
| **CompatibilitÃ© email** | âœ… Excellente | âš ï¸ Bonne | âœ… Excellente |
| **Mode Source** | âœ… Oui | âŒ Non | âœ… Oui |
| **PrÃ©visualisation** | âœ… Oui | âŒ Non | âœ… Oui |

---

## ğŸ› DÃ©pannage

### ProblÃ¨me : L'Ã©diteur ne se charge pas

**Solutions:**
1. VÃ©rifiez votre connexion Internet (premiÃ¨re utilisation)
2. VÃ©rifiez que WebView2 Runtime est installÃ©
3. Consultez le message d'erreur
4. TÃ©lÃ©chargez CKEditor localement

### ProblÃ¨me : Le template ne se charge pas

**Solutions:**
1. Cliquez sur "Generate Email Template"
2. Attendez la gÃ©nÃ©ration
3. Cliquez sur "ğŸ”„ Load Template"
4. VÃ©rifiez dans le status bar : "Template loaded successfully"

### ProblÃ¨me : Les tableaux ne s'affichent pas bien

**Solutions:**
1. Utilisez le menu Table de CKEditor (pas le bouton Insert Table)
2. Clic droit dans le tableau â†’ Table Properties
3. VÃ©rifiez les bordures et la largeur

### ProblÃ¨me : Le HTML est modifiÃ©

**C'est normal !** CKEditor nettoie le HTML pour :
- Supprimer les balises inutiles
- Corriger les erreurs de structure
- Optimiser pour les emails

Si vous avez besoin du HTML exact, utilisez le mode **Source**.

---

## ğŸ“š Ressources

- **Site officiel** : https://ckeditor.com/ckeditor-4/
- **Documentation** : https://ckeditor.com/docs/ckeditor4/latest/
- **Tutoriels** : https://ckeditor.com/docs/ckeditor4/latest/guide/
- **Forum** : https://github.com/ckeditor/ckeditor4/discussions

---

## âœ… RÃ©sumÃ©

### Pour l'utilisateur

âœ… Ã‰diteur professionnel type Word  
âœ… Support complet des tableaux  
âœ… Copier-coller depuis Word/Excel  
âœ… Mode Source pour les experts  
âœ… PrÃ©visualisation intÃ©grÃ©e  

### Pour l'administrateur

âœ… 100% gratuit et open source  
âœ… Mature et stable (20+ ans)  
âœ… HTML propre et compatible email  
âœ… Personnalisable et extensible  
âœ… Grande communautÃ©  

---

**Date**: 2025-02-09  
**Version**: 5.0 - CKEditor 4 (Professional & Free)  
**Build**: âœ… RÃ©ussi  
**Licence**: GPL/LGPL/MPL (Open Source)  
**PrÃ©requis**: Edge WebView2 Runtime + Internet (premiÃ¨re utilisation)

---

## ğŸ‰ CKEditor 4 - Le meilleur choix !

CKEditor 4 est l'Ã©diteur WYSIWYG **le plus mature**, **le plus utilisÃ©**, et **le plus fiable** pour l'Ã©dition d'emails HTML. Avec son support complet des tableaux et son interface intuitive, c'est la solution parfaite pour votre application !
